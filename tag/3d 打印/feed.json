{
    "version": "https://jsonfeed.org/version/1",
    "title": "カレーうどん屋 • All posts by \"3d 打印\" tag",
    "description": "カレーうどん屋.",
    "home_page_url": "https://blog.udon.eu.org",
    "items": [
        {
            "id": "https://blog.udon.eu.org/archives/7263a385.html",
            "url": "https://blog.udon.eu.org/archives/7263a385.html",
            "title": "Klipper 的外网访问",
            "date_published": "2022-02-12T06:50:00.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><p>网络上有关 Klipper 的中文教程少之又少，固作此教程介绍一下如何在外网优雅地访问家中装有 Klipper 的 3D 打印机。</p>\n<h2 id=\"方法一：端口转发\"><a href=\"#方法一：端口转发\" class=\"headerlink\" title=\"方法一：端口转发\"></a>方法一：端口转发</h2><p><strong>此方法仅适用于拥有公网 IP 的用户</strong></p>\n<p>首先，使用 DDNS 将家庭宽带动态变化的 IP 绑定至域名，教程如下：</p>\n<ul>\n<li><a href=\"https://blog..eu.org/archives/87bacf3f.html\">群晖-外网访问一站式教程2 DDNS</a></li>\n<li><a href=\"https://blog..eu.org/archives/27f2d840.html\">iPv6下绝佳的DDNS方法-dynv6</a></li>\n</ul>\n<p>在配置端口映射之前，先介绍一下 Klipper 的网络结构：</p>\n<pre><code class=\" mermaid\">graph LR;\n\tA(&quot;你的设备&quot;) &lt;--80--&gt;\n\tB(&quot;前端网页（Fluidd/Mainsail/Octoprint）&quot;) &lt;--7125--&gt;\n\tC(&quot;API 服务器 Moonraker&quot;) \t&lt;--&gt;\n\tD(&quot;你的 3D 打印机&quot;);\n</code></pre>\n\n<p>线上的数字便是通讯的端口。</p>\n<p>由上图，我们不难看出，若需要在外网访问家中的 Klipper，就需要映射 <strong>80</strong> 和 <strong>7125</strong> 两个端口。</p>\n<p>于路由器的 <strong>端口转发&#x2F;端口映射</strong> 界面配置 80 和 7125 的转发即可。家庭宽带的公网 IP 不会开放 80 端口，可将外网端口配置为 8080，对应的内网端口为 80 即可。</p>\n<p>接着，在 Moonraker 配置 <code>moonraker.conf</code> <code>[authorization]</code> 模块的 <code>cors_domains</code> 模块中添加你的域名，格式为 <code>*://你们域名</code></p>\n<p>也可以选择不使用自己搭建的前端网页，而使用 <a href=\"http://app.fluidd.xyz/\">Fluidd</a> 或者 <a href=\"%5BMainsail%5D(http://my.mainsail.xyz/)\">Mainsail</a> 作者搭建的前端网页。在 Moonraker 配置 <code>moonraker.conf</code> <code>[authorization]</code> 模块的 <code>cors_domains</code> 模块中添加 <code>*://my.mainsail.xyz 与 *://app.fluidd.xyz</code></p>\n<h2 id=\"方法二：内网穿透\"><a href=\"#方法二：内网穿透\" class=\"headerlink\" title=\"方法二：内网穿透\"></a>方法二：内网穿透</h2><p><strong>本人不推荐使用这个方法，固仅简述一下</strong></p>\n<p>可以使用花生壳等内网穿透服务，但给的带宽太小，只能使用控制界面，不能使用摄像头。</p>\n<p>也可以选择自建内网穿透，例如 Frp, Ngrok 等服务。但最近越来越多 Frp 服务器遭到攻击，固不建议自建。</p>\n<h2 id=\"方法三：使用-VPN\"><a href=\"#方法三：使用-VPN\" class=\"headerlink\" title=\"方法三：使用 VPN\"></a>方法三：使用 VPN</h2><p>这是本人推荐的方法。</p>\n<p>与 Octoprint + Marlin 仅需要映射 80 端口不同，Klipper 还需要映射 Moonraker 的 7125 端口，配置端口转发与实际使用都不如前者来的方便。</p>\n<p>我个人推荐用诸如 Zerotier, Tailscale 一类的 VPN 软件，搭建自己的小内网，通过内网 IP 直接访问 Klipper，既安全又方便。</p>\n<p>Zerotier 或者 Tailscale 的使用技巧网上一大片，我就不赘述了。</p>\n",
            "tags": [
                "教程",
                "3D 打印"
            ]
        },
        {
            "id": "https://blog.udon.eu.org/archives/19f3c1e1.html",
            "url": "https://blog.udon.eu.org/archives/19f3c1e1.html",
            "title": "我与 3D 打印",
            "date_published": "2022-02-06T15:00:00.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><p>玩 3D 打印有大半年了，虽然还谈不上资深，但已有了一些自己的想法，作此文分享一下自己的心得。</p>\n<span id=\"more\"></span>\n\n<h2 id=\"3D-打印机介绍\"><a href=\"#3D-打印机介绍\" class=\"headerlink\" title=\"3D 打印机介绍\"></a>3D 打印机介绍</h2><h3 id=\"3D-打印机的分类\"><a href=\"#3D-打印机的分类\" class=\"headerlink\" title=\"3D 打印机的分类\"></a>3D 打印机的分类</h3><p>民用 3D 打印无非两个流派：熔融沉积成型（FDM）与立体平板印刷（SLA，又称光固化），工业用途的还有金属粉末打印的 SLS。</p>\n<p>光固化就不多提了，其优点是精度高，缺点则是机器与耗材价格昂贵，且打印时有比较大的气味（可能对人体有害），对通风的要求比较高，个人认为不适合在家里玩。</p>\n<p>更适合摆在工作室里的 FDM 则是百花齐放，诞生出了各种各样的架构：从最简单的单臂型，到 I3 龙门架、圆形打印平台的三角洲，再到高速高精度的 CoreXY&#x2F;XZ&#x2F;YZ 架构、性能超强但组装价格昂贵的 UM 结构。最出名的开源设计则是 Voron 团队，旗下有小型的 Voron 0.1 和大型的 Voron 2.4，且还在持续更新中。</p>\n<h3 id=\"3D-打印控制系统\"><a href=\"#3D-打印控制系统\" class=\"headerlink\" title=\"3D 打印控制系统\"></a>3D 打印控制系统</h3><p>目前我见到的国内用的最多的 3D 打印机控制板（主板）是 MKS GEN L 系列（1.0&#x2F;1.2&#x2F;2.1），其搭载的是 ATmega 2560 芯片，常见的控制系统无非两种：Marlin 与 Klipper</p>\n<h4 id=\"Marlin-1-0-2-0\"><a href=\"#Marlin-1-0-2-0\" class=\"headerlink\" title=\"Marlin 1.0&#x2F;2.0\"></a>Marlin 1.0&#x2F;2.0</h4><p>Marlin 是一款片上储存，支持脱机打印、屏幕控制的系统。由 C 语言编写，配置较容易修改，但需要手动编译并烧录至控制板。目前已知的编译方法是 Arduino 编译与 VSCode 插件编译，我使用的是后者，但给我的体验不是很好。</p>\n<p>Marlin 的优点是（若不需要自定义）安装简单，仅需用数据线连接电脑烧录即可。缺点则是对打印机的任何重新配置（除了能在屏幕上直接修改设置，如电机方向等），特别是之后要更换静音驱动，就需要手动编译系统，门槛较高且操作繁琐、坑多。</p>\n<h4 id=\"Klipper\"><a href=\"#Klipper\" class=\"headerlink\" title=\"Klipper\"></a>Klipper</h4><p>Klipper 是一款需要上位机控制的系统，主板上仅烧录了一个接收上位机控制指令的程序，大小大概是 Marlin 系统的 1&#x2F;5。</p>\n<p>据 Klipper 的开发团队<a href=\"https://github.com/Klipper3d/klipper/blob/master/docs/Benchmarks.md\">描述</a>，大部分单片机的性能比较弱，每秒能处理的指令（打印机控制指令）数不高，固采用上位机的高性能 CPU 来处理更高精度但更多指令数的控制指令可以有效地提高打印质量。</p>\n<p>根据跑分表来看，其实 Mega 2560 的性能没有比树莓派的 CPU 弱很多，但考虑到树莓派还可以安装 API 服务器与 Web 控制界面，可以给打印机拓展更多的功能，连接一台上位机还是很具性价比的。</p>\n<p>Klipper 在我看来就像是 3D 打印界的 Ardupilot （开源无人机控制套件），用户可以接触到很多底层的设置、直接控制主板上的所有输出，且修改任何配置都不用重新烧录系统，非常适合创客使用。</p>\n<p>但高级权限也意味着更大的风险。若配置不当，则可能烧坏硬件。</p>\n<p>目前我正在使用的是 Klipper 固件，在两三天的配置调试之后基本可以不用动配置文件了。配置过程中踩了一些坑，后面会单独发一篇文章分享一下 Klipper 配置过程。</p>\n<h3 id=\"3D-打印材料\"><a href=\"#3D-打印材料\" class=\"headerlink\" title=\"3D 打印材料\"></a>3D 打印材料</h3><p>SLA 打印用的是各种光敏树脂，我没有用过就不评价了。</p>\n<p>FDM 使用的材料更加多种多样：PLA、PETG、ABS 三者为主流，TPE 柔性材料也见过有人在用。PLA 是最好打印的一类材料，PETG 需要较高的打印&#x2F;热床温度，而 ABS 需要保温打印（需封箱）。剩下的就是一些改进&#x2F;特种材料。例如在 PLA 中添加少量 PC、ABS 以加强硬度，这些材料名字多样，一般是在 PLA 之后加代号，如 PLA-F&#x2F;AF&#x2F;AT&#x2F;G&#x2F;Pro 等等；或是在 PLA 中添加少量木屑或杂质，使打印机外观像木制品&#x2F;大理石制品，这类材料比较容易堵头，不是很推荐使用；甚至还有人打印碳纤维，但价格昂贵。</p>\n<h2 id=\"购买-3D-打印机的理由\"><a href=\"#购买-3D-打印机的理由\" class=\"headerlink\" title=\"购买 3D 打印机的理由\"></a>购买 3D 打印机的理由</h2><p>我不想做一个 “KOL”，把 3D 打印吹得天花乱坠。谈一谈我购买 3D 打印机的理由：</p>\n<ol>\n<li>可以动手</li>\n</ol>\n<p>我是一个酷爱动手的人，看见 DIY 项目就忍不住去尝试。或许这辈子开不上高达，但能亲手组装一台能由我操控的机械（甚至还能打印出高达），也算是一点小小的慰藉。</p>\n<ol start=\"2\">\n<li>让梦想中的模型成真</li>\n</ol>\n<p>我有购买一台 3D 打印机的念头，来自一张网图，是一个制作精美的太阳时钟 —— 不是日晷，而是通过巧妙设计的结构，能投射出数字形式的大致时间。显然，这个太阳时钟是 3D 打印的。当时我就觉得，如果我能有一台 3D 打印机，我就能做各种各样的小玩意儿，多美妙 :)</p>\n<ol start=\"3\">\n<li>建模小帮手</li>\n</ol>\n<p>很奇怪的理由，但 3D 打印机确实促使我提升了 3D 建模技术。机器可以创造任何物品，但网上的模型毕竟有限，很多你想要的物品就需要你亲手去建模了。初中时我有学习 3D 建模的念头，当时选择了 C4D，但因为难度太高没多久就放弃了。现在我选择了学习 SolidWorks，自行设计并打印成品，我就能最直观的感受到模型的问题所在，并在软件里修正错误。</p>\n<h2 id=\"挑选打印机\"><a href=\"#挑选打印机\" class=\"headerlink\" title=\"挑选打印机\"></a>挑选打印机</h2><p>于是我就定下了买一台 3D 打印机的计划。这么一计划就是一年多。</p>\n<p>在这一年里我找了很多店家，比对他们的性价比（我的博客里最经常出现的一个词），最后挑中了这家 —— 小树科技。</p>\n<p>我不适合想买成品机，理由很简单：性价比较低，且没有组装的乐趣。这两年国内做开源机器的团队越来越多，小树科技算是比较早的一家。我最看重的莫过于详细的安装文档和一个可靠的社区，毕竟这次我要涉猎的是一个完全陌生的领域。</p>\n<p>逛了逛他们的<a href=\"(https://www.minitree.fun/)\">官网</a>，确定他们有提供安装文档，用户社区也达到数千人规模，我决定了要买这一家的机器。</p>\n<p>新手入门，我选择了 T3 型号的机器。单臂架构，3D 打印机中最简陋、缺点最多的架构，但也是消耗材料最少，价格最便宜的结构。</p>\n<p>DIY 之路必然是坎坷的，如果你决定要自己组装一台 3D 打印机，过程中必然会遇到种种问题。做好心理准备，等待迎接解决问题之后的喜悦吧。</p>\n<p>经过半年的调机与改装之后，这台 T3 已经能稳定地产出质量尚可的打印件，我认为再去改装这台机器所带来的提升已经不大，便决定将其升级为 CoreXY 架构。</p>\n<p>升级 CoreXY 就是这个寒假的事情了，组装花了四五天，调机则还在进行中。目前来看这台机子潜力很大，请期待后续分享调机过程的文章。</p>\n<h2 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h2><p>感觉没什么好结的。</p>\n<p>说句实话，调机真的挺痛苦的，刚装完机打两次很可能就会错一次层；但调完之后，再也不会错层的成就感经久不衰。</p>\n",
            "tags": [
                "3D 打印"
            ]
        }
    ]
}